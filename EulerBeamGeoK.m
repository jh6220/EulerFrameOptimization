function [Kgeo] = EulerBeamGeoK(L,alpha,P)
k11 = zeros(6,6);
k11(2,2) = 6/(5*L);
k11(3,3) = 6/(5*L);
k11(5,5) = 2*L/15;
k11(6,6) = 2*L/15;
k11(3,5) = -1/10; k11(5,3) = -1/10;
k11(2,6) = 1/10; k11(6,2) = 1/10;

k21 = zeros(6,6);
k21(2,2) = -6/(5*L);
k21(3,3) = -6/(5*L);
k21(5,5) = -L/30;
k21(6,6) = -L/30;
k21(3,5) = -1/10; k21(5,3) = 1/10;
k21(2,6) = 1/10; k21(6,2) = -1/10;

k22 = zeros(6,6);
k22(2,2) = 6/(5*L);
k22(3,3) = 6/(5*L);
k22(5,5) = 2*L/15;
k22(6,6) = 2*L/15;
k22(3,5) = 1/10; k22(5,3) = 1/10;
k22(2,6) = -1/10; k22(6,2) = -1/10;

k = [k11,k21;k21',k22];
k = k*P;

c = cos(alpha);
s = sin(alpha);

T = [c, s,  0,  0,  0,  0;
    -s, c,  0,  0,  0,  0;
    0,  0,  1,  0,  0,  0;
    0,  0,  0,  c,  s,  0;
    0,  0,  0,  -s, c,  0;
    0,  0,  0,  0,  0,  1];

T = [T,zeros(6,6);zeros(6,6),T];

Kgeo = T'*k*T;

end